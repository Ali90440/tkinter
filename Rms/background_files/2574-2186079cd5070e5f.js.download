!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="66f78b9d-4b44-489a-aaad-2895c8ad4518",e._sentryDebugIdIdentifier="sentry-dbid-66f78b9d-4b44-489a-aaad-2895c8ad4518")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"848ccd3e"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2574,2339],{16377:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(28011),i=n(62279),a=n(6264),o=n(95489),l=n(21480),u=(0,i.iv)([l.l0.display.flex,l.l0.align.center,l.l0.justify.center,l.l0.backgroundColor.accentNegativeDefault,l.l0.minWidth(16),l.l0.height(16),l.l0.color.white,l.l0.position.absolute,l.l0.fontSize(a.TV.fontSizeSmall),{borderRadius:"10px",transform:"translate(50%, -50%)",padding:"2px 3px"}]),s=(0,o.X)({root:l.l0.display.flex,unreadIndicator:[l.l0.width(5),l.l0.height(5),l.l0.backgroundColor.redDefault,l.l0.position.absolute,{borderRadius:"10px",transform:"translate(8px, -1px)"}],count:u,countOverflow:[u,{transform:"translate(25%, -50%)"}]});function d(e){var t=e.unreadDot,n=e.size,i=void 0===n?12:n,a=e.count,o=void 0===a?null:a,l=o&&o>99,u=l?"99+":null==o?void 0:o.toString();return(0,r.BX)("span",{css:s.root,children:[(0,r.tZ)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",children:(0,r.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),t?(0,r.tZ)("div",{css:s.unreadIndicator}):null,!!o&&(0,r.tZ)("div",{css:l?s.countOverflow:s.count,children:u})]})}},89993:function(e,t,n){n.d(t,{Y:function(){return r}});var r=n(22648).tk.contentAttributes.of({autocapitalize:"on"})},48006:function(e,t,n){n.d(t,{S:function(){return r}});var r=n(22648).tk.contentAttributes.of({autocorrect:"on"})},19446:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(28011),i=n(95725),a=n(21769),o=n(6191),l=n(86498),u=n(36584),s=n(25366),d=Array.prototype.concat,c=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},g=function(e){return d.apply([],e)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!e||n>=t.bail||!e.isDirectory||!e.createReader)return Promise.resolve([]);var i=null!=r?r:e.name;return new Promise(function(r){e.createReader().readEntries(function(e){return Promise.all(e.map(function(e){var r,a,o,l;return r=e,a=t,o=n,l=i,r.isDirectory?a.recursive?f(r,a,o+1,(0,s.join)(l,r.name)):Promise.resolve([]):new Promise(function(e,t){r.file?r.file(e,t):e(null)}).catch(function(){return null}).then(function(e){return e&&(e.dirPath=(0,s.join)(l,e.name)),e?[e]:[]})})).then(function(e){return r(g(e))})},function(){return r([])})})},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f("function"==typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null,c(t))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=c(t),new Promise(function(n){var r,i;(null==e?void 0:null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(g(e.dataTransfer.items).filter(function(e){return"file"===e.kind}).map(function(e){return p(e,t).then(function(t){if(!t.length){var n=e.getAsFile();t=n?[n]:t}return t})})).then(function(e){return n(g(e))}):(null==e?void 0:null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?n(g(e.dataTransfer.files)):n([])})},v=n(50834),m=null,B=null;function y(e){var t=function(e){var t=e.isTouchBackend;if(B&&t)return B;if(m&&!t)return m;var n={dragDropManager:(0,u.i)(function(e){var n=t?(0,l.zr)(e,void 0,{delayTouchStart:500}):(0,a.PD)(e),r=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var t,i=n.monitor.getItemType();i===o.HTML||i===o.TEXT?(n.dropTargetIds=[],null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):r.call(n,e),n.currentNativeSource&&(n.currentNativeSource.item.dirContent=h(e,{recursive:!0}))},n})};return t?B=n:m=n,n}({isTouchBackend:(0,v.w8)()});return(0,r.tZ)(i.L.Provider,{value:t,children:e.children})}},88435:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(34495);function i(e,t,n){n&&r.Z(e,t),t&&"object"==typeof t?(t.skipOverflowHiddenElements=!0,r.Z(e,t)):r.Z(e,{skipOverflowHiddenElements:!0})}},82339:function(e,t,n){n.d(t,{L:function(){return Y}});var r=n(5093),i=n(28011),a=n(47750),o=n.n(a),l=n(75271),u=n(94213),s=n(14489),d=n(10222),c=n(71804),g=n(96784),f=n(60884);function p(){var e=(0,s._)(["\n  fragment UsageBudget on UsageBasedBillingBudget {\n    id\n    monthlyBudgetUsd\n    hasReachedBudget\n  }\n"]);return p=function(){return e},e}function h(){var e=(0,s._)(["\n  fragment UsageIntervalUsageBudget on UsageInterval {\n    totalAmountUsd\n  }\n"]);return h=function(){return e},e}function v(){var e=(0,s._)(["\n  query UsageBasedBillingBudgetCurrentUser {\n    currentUser {\n      id\n      usageBasedBillingBudget {\n        ... on UsageBasedBillingBudget {\n          ...UsageBudget\n        }\n        ... on Error {\n          message\n        }\n      }\n      usageInterval {\n        ... on UsageInterval {\n          ...UsageIntervalUsageBudget\n        }\n        ... on ServiceUnavailable {\n          message\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,s._)(["\n  query UsageBasedBillingBudgetOrg($orgId: String!) {\n    currentUser {\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          usageBasedBillingBudget {\n            ... on UsageBasedBillingBudget {\n              ...UsageBudget\n            }\n            ... on Error {\n              message\n            }\n          }\n          usageInterval {\n            ... on UsageInterval {\n              ...UsageIntervalUsageBudget\n            }\n            ... on ServiceUnavailable {\n              message\n            }\n            ... on Error {\n              message\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function B(){var e=(0,s._)(["\n  mutation UpdateCurrentUserUsageBasedBillingBudget($monthlyBudgetUsd: Int) {\n    updateUsageBasedBillingBudget(\n      input: { monthlyBudgetUsd: $monthlyBudgetUsd }\n    ) {\n      __typename\n      ... on CurrentUser {\n        id\n        usageBasedBillingBudget {\n          __typename\n          ... on UsageBasedBillingBudget {\n            ...UsageBudget\n          }\n          ... on Error {\n            message\n          }\n        }\n        personalOrgAuthorizations {\n          ... on OrgAuthorizations {\n            ...AgentAuthorizations\n          }\n          ... on Error {\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}function y(){var e=(0,s._)(["\n  mutation UpdateOrgUsageBasedBillingBudget(\n    $orgId: String!\n    $monthlyBudgetUsd: Int\n  ) {\n    updateUsageBasedBillingBudget(\n      input: { orgId: $orgId, monthlyBudgetUsd: $monthlyBudgetUsd }\n    ) {\n      __typename\n      ... on CurrentUser {\n        id\n        org(orgId: $orgId) {\n          __typename\n          ... on Org {\n            id\n            usageBasedBillingBudget {\n              ... on UsageBasedBillingBudget {\n                ...UsageBudget\n              }\n              ... on Error {\n                message\n              }\n            }\n            authorizations {\n              ... on OrgAuthorizations {\n                ...AgentAuthorizations\n              }\n            }\n          }\n          ... on Error {\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}var b={},Z=(0,d.Ps)(p()),U=(0,d.Ps)(h()),_=(0,d.Ps)(v(),Z,U),x=(0,d.Ps)(m(),Z,U),w=(0,d.Ps)(B(),Z,f.cO),A=(0,d.Ps)(y(),Z,f.cO),C=n(48060),T=n(43030),S=n(6264),E=n(95489),I=n(66728),D=n(21480),k=n(50872),P=n(65984),R=n(35961),G=n(31995),V=n(81150),z=(0,E.X)({inputLoadingPlaceholder:[I.p.backgroundPulse(S.TV.outlineDimmest,S.TV.outlineDimmer),D.l0.width(S.TV.space128),D.l0.height(S.TV.space32),D.l0.borderRadius(8)],budgetInput:[D.l0.maxWidth(S.TV.space80)],removeBudgetButton:[D.l0.height(S.TV.space32),D.l0.width(S.TV.space32)]});function L(e){var t=e.queryLoading,n=e.monthlyBudgetField;return(0,i.tZ)(i.HY,{children:t?(0,i.tZ)(G.G,{css:z.inputLoadingPlaceholder}):(0,i.BX)(i.HY,{children:[(0,i.tZ)(R.xv,{children:"$"}),(0,i.tZ)(P.II,{type:"number",min:0,max:1e4,step:100,value:null!==n.value?n.value.toString():"",css:z.budgetInput,onChange:function(e){var t=e.target.value;if(""===t){n.setValue(0);return}n.setValue(parseInt(t,10))}}),(0,i.tZ)(k.hU,{alt:"Remove monthly usage budget",css:z.removeBudgetButton,onClick:function(){n.setValue(null)},children:(0,i.tZ)(V.Z,{})})]})})}var O=n(13022),X=n(21175);function F(e){var t=void 0!==e.orgId?O.pT:O.yq;return(0,X.Y)(null,function(e){return null!=e&&e<t?{message:"Monthly usage budget must be at least $".concat(t)}:null!=e&&e%t!=0?{message:"Monthly usage budget must be a multiple of $".concat(t)}:void 0})}var H=n(76786),W=n(40207),M=(0,E.X)({rootContainer:[D.l0.colWithGap(12),D.l0.align.start],budgetInfoLink:[D.l0.display.inlineFlex,D.l0.align.center,D.l0.rowWithGap(4)],budgetRow:[D.l0.justify.spaceBetween,D.l0.flex.row,D.l0.width("100%")],budgetInputContainer:[D.l0.rowWithGap(8),D.l0.align.center],errorText:[D.l0.color.accentNegativeStronger,D.l0.textAlign.left],saveButton:[D.l0.width(128)],bulletPoint:[D.l0.rowWithGap(8),D.l0.mb(4)],bulletPoints:[D.l0.my(4),D.l0.ml(8)],budgetInfoText:[D.l0.colWithGap(24)]});function j(e){var t,n,r,a,l,u,s,d,c,g,f=e.queryLoading,p=e.totalSpentUsd,h=e.originalMonthlyBudget,v=e.serverError,m=e.monthlyBudgetField,B=e.onUpdate,y=e.mutationLoading,b=e.isOrg,Z=(l=(t={monthlyBudgetField:m,totalSpentUsd:p,originalMonthlyBudget:h}).monthlyBudgetField,u=t.totalSpentUsd,s=t.originalMonthlyBudget!==l.value,d=null!==(r=null===(n=l.error)||void 0===n?void 0:n.message)&&void 0!==r?r:null,c=void 0!==u&&null!==l.value&&l.value<=u?"You've already spent ".concat(u.toLocaleString("en-US",{style:"currency",currency:"USD"})," this billing period.\n  Increase your budget to avoid service interruption.\n  ").concat(s?" Saving your changes will suspend any active usage-based services.":""):null,g=null!==(a=null!=d?d:c)&&void 0!==a?a:null,{validationError:d,insufficientBudgetError:c,budgetHasChanged:s,errorToDisplay:g}),U=Z.budgetHasChanged,_=Z.validationError,x=Z.errorToDisplay;return(0,i.BX)(G.G,{css:M.rootContainer,children:[(0,i.tZ)(R.xv,{variant:"subheadDefault",multiline:!1,children:"Monthly usage budget"}),(0,i.BX)(G.G,{css:M.budgetInfoText,children:[(0,i.BX)(R.xv,{children:["Your monthly usage budget helps you control spending on additional usage beyond the ",b?null:"$50"," flexible credits included with your ",b?T.EO:T.we," plan."]}),(0,i.BX)(R.xv,{children:["When this limit is reached, services will be suspended until the limit is increased or the next billing cycle begins to prevent extra charges.",(0,i.BX)(G.G,{css:M.bulletPoints,children:[(0,i.BX)(G.G,{css:M.bulletPoint,children:[(0,i.tZ)(R.xv,{children:"•"}),(0,i.tZ)(R.xv,{children:"Cloud services, deployments, and agent access will all be paused."})]}),(0,i.BX)(G.G,{css:M.bulletPoint,children:[(0,i.tZ)(R.xv,{children:"•"}),(0,i.tZ)(R.xv,{children:"Any active deployments will go offline, so users won't have access."})]}),(0,i.BX)(G.G,{css:M.bulletPoint,children:[(0,i.tZ)(R.xv,{children:"•"}),(0,i.tZ)(R.xv,{children:"Deployments must be manually restarted after suspension."})]})]}),(0,i.BX)(o(),{css:M.budgetInfoLink,target:"_blank",href:C.TT.USAGE_BASED_BILLING_BUDGETS,children:["Learn more about usage-based billing",(0,i.tZ)(W.Z,{})]})]})]}),(0,i.BX)(G.G,{css:M.budgetRow,children:[(0,i.tZ)(G.G,{css:M.budgetInputContainer,children:(0,i.tZ)(L,{queryLoading:f,monthlyBudgetField:m})}),(0,i.tZ)(H.zx,{text:"Save",colorway:"primary",onClick:function(){m.validate(),m.isValid&&B()},loading:y,css:M.saveButton,disabled:f||y||null!=_||!U})]}),x?(0,i.tZ)(R.xv,{variant:"small",css:M.errorText,multiline:!0,children:x}):null,v?(0,i.tZ)(R.xv,{variant:"small",css:M.errorText,multiline:!0,children:v}):null]})}function N(e){var t,n,a,o,s=e.orgId,d=e.onUpdateSuccess,f=(0,r._)((0,l.useState)(void 0),2),p=f[0],h=f[1],v=(0,r._)((0,l.useState)(null),2),m=v[0],B=v[1],y=(0,r._)((0,l.useState)(null),2),Z=y[0],U=y[1],_=F({orgId:s}),w=(t={variables:{orgId:s},onCompleted:function(e){var t,n,r,i,a,o,l,u;(null===(t=e.currentUser)||void 0===t?void 0:t.org.__typename)==="Org"&&(null===(n=e.currentUser.org.usageBasedBillingBudget)||void 0===n?void 0:n.__typename)==="UsageBasedBillingBudget"?(B(e.currentUser.org.usageBasedBillingBudget.monthlyBudgetUsd),_.setValue(e.currentUser.org.usageBasedBillingBudget.monthlyBudgetUsd)):(null===(r=e.currentUser)||void 0===r?void 0:r.org.__typename)==="Org"&&(null===(i=e.currentUser)||void 0===i?void 0:i.org.usageBasedBillingBudget)&&(null===(o=e.currentUser)||void 0===o?void 0:null===(a=o.org.usageBasedBillingBudget)||void 0===a?void 0:a.__typename)!=="UsageBasedBillingBudget"&&U(e.currentUser.org.usageBasedBillingBudget.message),(null===(l=e.currentUser)||void 0===l?void 0:l.org.__typename)==="Org"&&"UsageInterval"===e.currentUser.org.usageInterval.__typename?h(e.currentUser.org.usageInterval.totalAmountUsd):(null===(u=e.currentUser)||void 0===u?void 0:u.org.__typename)==="Org"&&"UsageInterval"!==e.currentUser.org.usageInterval.__typename&&U(e.currentUser.org.usageInterval.message)}},n=(0,u._)({},b,t),c.a(x,n)).loading,C=(0,r._)((a={onCompleted:function(e){var t,n;e.updateUsageBasedBillingBudget&&"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&"Org"===e.updateUsageBasedBillingBudget.org.__typename&&(null===(t=e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"&&(_.setValue(e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget.monthlyBudgetUsd),null==d||d(e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget.hasReachedBudget)),e.updateUsageBasedBillingBudget&&"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&"Org"===e.updateUsageBasedBillingBudget.org.__typename&&(null===(n=e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget)||void 0===n?void 0:n.__typename)!=="UsageBasedBillingBudget"&&e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget&&U(e.updateUsageBasedBillingBudget.org.usageBasedBillingBudget.message)}},o=(0,u._)({},b,a),g.D(A,o)),2),T=C[0],S=C[1].loading;return(0,i.tZ)(j,{queryLoading:w,totalSpentUsd:p,originalMonthlyBudget:m,serverError:Z,monthlyBudgetField:_,mutationLoading:S,isOrg:!0,onUpdate:function(){U(null),T({variables:{orgId:s,monthlyBudgetUsd:_.value}})}})}function $(e){var t,n,a,o,s=e.onUpdateSuccess,d=(0,r._)((0,l.useState)(void 0),2),f=d[0],p=d[1],h=(0,r._)((0,l.useState)(null),2),v=h[0],m=h[1],B=(0,r._)((0,l.useState)(null),2),y=B[0],Z=B[1],U=F({}),x=(t={onCompleted:function(e){var t,n,r,i,a,o;(null===(n=e.currentUser)||void 0===n?void 0:null===(t=n.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"?(m(e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd),U.setValue(e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)):(null===(r=e.currentUser)||void 0===r?void 0:r.usageBasedBillingBudget)&&Z(e.currentUser.usageBasedBillingBudget.message),(null===(a=e.currentUser)||void 0===a?void 0:null===(i=a.usageInterval)||void 0===i?void 0:i.__typename)==="UsageInterval"?p(e.currentUser.usageInterval.totalAmountUsd):(null===(o=e.currentUser)||void 0===o?void 0:o.usageInterval)&&Z(e.currentUser.usageInterval.message)}},n=(0,u._)({},b,t),c.a(_,n)).loading,A=(0,r._)((a={onCompleted:function(e){var t,n;e.updateUsageBasedBillingBudget&&"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&(null===(t=e.updateUsageBasedBillingBudget.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"&&(U.setValue(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd),null==s||s(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.hasReachedBudget)),e.updateUsageBasedBillingBudget&&"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&(null===(n=e.updateUsageBasedBillingBudget.usageBasedBillingBudget)||void 0===n?void 0:n.__typename)!=="UsageBasedBillingBudget"&&e.updateUsageBasedBillingBudget.usageBasedBillingBudget&&Z(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.message)}},o=(0,u._)({},b,a),g.D(w,o)),2),C=A[0],T=A[1].loading;return(0,i.tZ)(j,{queryLoading:x,totalSpentUsd:f,originalMonthlyBudget:v,serverError:y,monthlyBudgetField:U,mutationLoading:T,isOrg:!1,onUpdate:function(){Z(null),C({variables:{monthlyBudgetUsd:U.value}})}})}function Y(e){var t=e.orgId,n=e.onUpdateSuccess;return t?(0,i.tZ)(N,{orgId:t,onUpdateSuccess:n}):(0,i.tZ)($,{onUpdateSuccess:n})}},76983:function(e,t,n){n.d(t,{X:function(){return l}});var r=n(28011),i=n(62279),a=n(6264),o=(0,i.iv)({backgroundColor:a.TV.outlineDimmest,width:1});function l(e){var t=e.className;return(0,r.tZ)("div",{className:t,css:o})}},37492:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(94213),i=n(32586),a=n(28011),o=n(16095);function l(e){return(0,a.tZ)(o.ZP,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M11.47 4.47a.75.75 0 0 1 1.06 0l7 7a.75.75 0 1 1-1.06 1.06l-5.72-5.72V19a.75.75 0 0 1-1.5 0V6.81l-5.72 5.72a.75.75 0 0 1-1.06-1.06l7-7Z",clipRule:"evenodd"})}))}},6761:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(94213),i=n(32586),a=n(28011),o=n(16095);function l(e){return(0,a.tZ)(o.ZP,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M8 1.25a.75.75 0 0 1 .75.75v1.25h6.5V2a.75.75 0 0 1 1.5 0v1.25H19A2.75 2.75 0 0 1 21.75 6v14A2.75 2.75 0 0 1 19 22.75H5A2.75 2.75 0 0 1 2.25 20V6A2.75 2.75 0 0 1 5 3.25h2.25V2A.75.75 0 0 1 8 1.25Zm-.75 3.5H5c-.69 0-1.25.56-1.25 1.25v3.25h16.5V6c0-.69-.56-1.25-1.25-1.25h-2.25V6a.75.75 0 0 1-1.5 0V4.75h-6.5V6a.75.75 0 0 1-1.5 0V4.75Zm13 6H3.75V20c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25v-9.25Z",clipRule:"evenodd"})}))}},78837:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(94213),i=n(32586),a=n(28011),o=n(16095);function l(e){return(0,a.tZ)(o.ZP,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v10.19l3.72-3.72a.75.75 0 1 1 1.06 1.06l-5 5a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 1 1 1.06-1.06l3.72 3.72V3a.75.75 0 0 1 .75-.75Zm-9 12a.75.75 0 0 1 .75.75v4A1.25 1.25 0 0 0 5 20.25h14A1.25 1.25 0 0 0 20.25 19v-4a.75.75 0 0 1 1.5 0v4A2.75 2.75 0 0 1 19 21.75H5A2.75 2.75 0 0 1 2.25 19v-4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},35846:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(94213),i=n(32586),a=n(28011),o=n(16095);function l(e){return(0,a.tZ)(o.ZP,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M1.25 6A2.75 2.75 0 0 1 4 3.25h16A2.75 2.75 0 0 1 22.75 6v12A2.75 2.75 0 0 1 20 20.75H4A2.75 2.75 0 0 1 1.25 18V6ZM4 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h16c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H4ZM4.25 8A.75.75 0 0 1 5 7.25h2a.75.75 0 0 1 0 1.5H5A.75.75 0 0 1 4.25 8Zm5 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1A.75.75 0 0 1 9.25 8Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm-13 4a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75Zm-9 4a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},46735:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(94213),i=n(32586),a=n(28011),o=n(16095);function l(e){return(0,a.tZ)(o.ZP,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M2.476 2.463a.75.75 0 0 1 .845-.14l19 9a.75.75 0 0 1 0 1.355l-19 9a.75.75 0 0 1-1.006-.983L6.179 12 2.315 3.305a.75.75 0 0 1 .161-.842ZM7.487 12.75l-2.98 6.706 14.158-6.706H7.487Zm11.178-1.5H7.487l-2.98-6.706 14.158 6.706Z",clipRule:"evenodd"})}))}},10795:function(e,t,n){n.d(t,{u:function(){return h}});var r=n(84750),i=n(96583),a=n(28011),o=n(75271),l=n(80598),u=n(6264),s=n(50872),d=n(31995),c=n(94213),g=n(32586),f=n(16095);function p(e){return(0,a.tZ)(f.ZP,(0,g._)((0,c._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M9.75 3A3.75 3.75 0 0 0 6 6.75V15a6 6 0 0 0 12 0V6.75a.75.75 0 0 1 1.5 0V15a7.5 7.5 0 0 1-15 0V6.75a5.25 5.25 0 1 1 10.5 0V15a3 3 0 0 1-6 0V6.75a.75.75 0 1 1 1.5 0V15a1.5 1.5 0 0 0 3 0V6.75A3.75 3.75 0 0 0 9.75 3Z",clipRule:"evenodd"})}))}function h(e){var t,n=e.status,c=e.addAttachment,g=(0,o.useRef)(null),f=(0,o.useRef)(null);return(0,a.BX)(d.G,{onClick:function(e){return e.stopPropagation()},children:[(0,a.tZ)(s.hU,{alt:"Attach file",size:24,disabled:"loading"===n,onClick:function(){g.current&&g.current.click()},children:(0,a.tZ)(p,{color:u.TV.foregroundDimmer})}),(0,a.tZ)(l.Q,{fileUploadInputRef:g,dirUploadInputRef:f,uploadFiles:(t=(0,r._)(function(e){var t,n,r,a,o,l;return(0,i.Jh)(this,function(i){t=!0,n=!1,r=void 0;try{for(a=e.files[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)l=o.value,c({path:l.name,mimeType:l.type,file:l,isUploading:!0})}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return[2]})}),function(e){return t.apply(this,arguments)})})]})}},61725:function(e,t,n){n.d(t,{s:function(){return k}});var r=n(42226),i=n(5093),a=n(28011),o=n(75271),l=n(80012),u=n(65171),s=n(6264),d=n(80084),c=n(95489),g=n(21480),f=n(50872),p=n(55971),h=n(38084),v=n(35961),m=n(31995),B=n(74269),y=(0,c.X)({wrapper:[g.l0.position.relative,g.l0.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],container:[g.l0.colWithGap(4),g.l0.px(8),g.l0.border({color:s.TV.outlineDimmest}),g.l0.borderRadius("container"),g.l0.center,g.l0.justify.center,g.l0.align.center,g.l0.height(64),g.l0.width(128)],urlText:[g.l0.align.center,g.l0.rowWithGap(2),g.l0.textAlign.center],removeButton:[g.l0.position.absolute,g.l0.top(-8),g.l0.right(-10),(0,d.ec)("negative"),(0,r._)({borderRadius:"50%"},g.BC.canHover,{opacity:0})]});function b(e){var t=e.url,n=e.intent,r=e.onRemoveClick,i=e.onMouseEnter,o=e.onMouseExit,l=(0,u.qB)(t),s=u.uj.find(function(e){return e.intent===n});return s?(0,a.BX)(m.G,{css:y.wrapper,onMouseEnter:function(){return null==i?void 0:i(t)},onMouseLeave:o,children:[(0,a.BX)(h.Tg,{elevated:!0,css:y.container,children:[(0,a.tZ)(p.D,{text:s.shortDescription,iconLeft:(0,a.tZ)(s.Icon,{})}),(0,a.tZ)(v.xv,{color:"dimmer",multiline:!1,css:y.urlText,children:l})]}),r?(0,a.tZ)(h.Tg,{elevated:!0,children:(0,a.tZ)(f.hU,{alt:"Remove URL attachment",size:24,onClick:function(){null==r||r(),null==o||o()},css:y.removeButton,"data-attachment-status":"remove",children:(0,a.tZ)(B.Z,{size:16})})}):null]}):null}var Z=n(43714),U=n(87226),_=n(76786),x=n(76983),w=n(58381),A=n(29185),C=n(67160),T=n(74935),S=n(550),E=n(41415),I=n(10259),D=(0,c.X)({container:[g.l0.rowWithGap(12),g.l0.overflowX("auto")]});function k(e){var t=e.renderedAttachments,n=e.getAttachmentTypeDisclaimer,r=e.removeAttachment,i=e.readFile,o=e.attachedUrls,l=e.removeAttachedUrl,u=e.onMouseEnterAttachedUrl,s=e.onMouseExitAttachedUrl,d=e.className;return 0===t.length&&0===o.length?null:(0,a.BX)(m.G,{css:D.container,className:d,children:[o.map(function(e,t){var n=e.url,r=e.intent;return(0,a.tZ)(b,{url:n,intent:r,onRemoveClick:l?function(){return l(n,r)}:void 0,onMouseEnter:u,onMouseExit:s},t)}),o.length>0&&t.length>0?(0,a.tZ)(x.X,{}):null,t.map(function(e,t){return(0,a.tZ)(G,{attachment:e,readFile:i,removeAttachment:r,getAttachmentTypeDisclaimer:n},t)})]})}var P=(0,c.X)({removeAttachmentButton:[g.l0.position.absolute,g.l0.top(-8),g.l0.right(-10),{borderRadius:"50%"}]}),R=(0,c.X)({button:[g.l0.reset.button,U.g.outlined,g.l0.height(64),g.l0.width(98),g.l0.position.relative,g.l0.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],tooltipContents:[g.l0.maxWidth("100%"),g.l0.textAlign.center],attachmentUploading:[P.removeAttachmentButton,{backgroundColor:s.TV.interactiveBackground}],removeAttachmentButton:[P.removeAttachmentButton,(0,d.ec)("negative"),(0,r._)({},g.BC.canHover,{opacity:0})],viewerModalContents:[g.l0.colWithGap(8),g.l0.p(16),g.l0.maxHeight("80vh"),g.l0.overflowY("auto")]});function G(e){var t,n=e.attachment,r=e.removeAttachment,u=e.readFile,s=e.getAttachmentTypeDisclaimer,d=s(n.mimeType),c=(0,i._)((0,o.useState)(!1),2),p=c[0],y=c[1],b=(null===(t=n.mimeType)||void 0===t?void 0:t.startsWith("image/"))?(0,a.tZ)(O,{attachment:n,readFile:u}):(0,a.tZ)(z,{attachment:n,getAttachmentTypeDisclaimer:s}),Z=(0,l.T3)(n.path)?(0,a.tZ)(H,{attachment:n,readFile:u}):(0,a.tZ)(X,{attachment:n,readFile:u});return(0,a.BX)(a.HY,{children:[(0,a.tZ)(_.Yd,{onPress:function(){y(!0)},css:R.button,children:(0,a.BX)(T.u,{tooltip:(0,a.BX)(m.G,{css:R.tooltipContents,children:[(0,a.tZ)(v.xv,{children:(0,l.UO)(n.path)}),d?(0,a.tZ)(v.xv,{css:g.l0.color.orangeStrongest,children:d}):null]}),maxWidth:300,placement:"top",css:V.tooltip,children:[b,r?(0,a.tZ)(h.Tg,{elevated:!0,children:(0,a.tZ)(f.hU,{alt:n.isUploading?"Uploading...":"Remove attachment",size:24,onClick:function(){return r(n.path)},css:n.isUploading?R.attachmentUploading:R.removeAttachmentButton,disabled:n.isUploading,"data-attachment-status":n.isUploading?"uploading":"remove",children:n.isUploading?(0,a.tZ)(E.Z,{size:16}):(0,a.tZ)(B.Z,{size:16})})}):null]})}),(0,a.tZ)(A.u,{isOpen:p,maxWidth:800,onRequestClose:function(){return y(!1)},centered:!0,children:(0,a.BX)(m.G,{css:R.viewerModalContents,children:[(0,a.tZ)(v.xv,{variant:"subheadDefault",css:g.l0.textAlign.center,children:(0,l.UO)(n.path)}),Z,d?(0,a.tZ)(C.E,{text:d,colorway:"orange",icon:(0,a.tZ)(I.Z,{size:16})}):null]})})]})}var V=(0,c.X)({tooltip:[g.l0.flex.grow(1)],container:[g.l0.colWithGap(4),g.l0.px(8),g.l0.center,g.l0.flex.grow(1)],image:[g.l0.borderRadius(4)],fileName:[g.l0.align.center,g.l0.rowWithGap(2)]});function z(e){var t=e.attachment,n=(0,e.getAttachmentTypeDisclaimer)(t.mimeType);return(0,a.BX)(m.G,{css:V.container,children:[(0,a.tZ)(w.Z,{path:t.path,size:20}),(0,a.BX)(v.xv,{color:"dimmer",multiline:!1,css:V.fileName,children:[n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.Z,{size:16,color:s.TV.orangeStrongest})," "]}):null,(0,l.UO)(t.path)]})]})}function L(e){var t=e.file,n=e.setSrc;if(["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))n(URL.createObjectURL(t));else{var r=new FileReader;r.onload=function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&n(e.target.result)},r.readAsDataURL(t)}}function O(e){var t=e.attachment,n=e.readFile,r=(0,i._)((0,o.useState)(t.path),2),l=r[0],u=r[1];return(0,o.useEffect)(function(){t.file?L({file:t.file,setSrc:u}):n&&n(t.path).then(function(e){if("content"in e){var n=e.content.toString("base64");u("data:".concat(t.mimeType,";base64,").concat(n))}})},[t,n]),(0,a.tZ)(S.Z,{src:l,layout:"fill",alt:"Attached Image","aria-label":"Image",objectFit:"cover",css:V.image})}function X(e){var t=e.attachment,n=e.readFile,r=(0,i._)((0,o.useState)(null),2),l=r[0],u=r[1];return(0,o.useEffect)(function(){t.file?t.file.text().then(u):n&&n(t.path).then(function(e){"content"in e&&u(e.content.toString("utf8").slice(0,5e3)+(e.content.length>5e3?"...":""))})},[t.file,n,t]),(0,a.tZ)(a.HY,{children:l?(0,a.tZ)(v.xv,{css:{whiteSpace:"pre-wrap"},children:l}):(0,a.tZ)(E.Z,{})})}var F=(0,c.X)({container:[g.l0.colWithGap(4),g.l0.minHeight(500),g.l0.px(8),g.l0.center,g.l0.flex.grow(1)]});function H(e){var t=e.attachment,n=e.readFile,r=(0,i._)((0,o.useState)(t.path),2),u=r[0],s=r[1];return(0,o.useEffect)(function(){t.file?L({file:t.file,setSrc:s}):n&&n(t.path).then(function(e){if("content"in e){var n=e.content.toString("base64");s((0,Z.jT)(n,t.mimeType))}})},[t,n]),(0,a.tZ)(m.G,{css:F.container,children:(0,a.tZ)(Z.AE,{src:u,fileName:(0,l.UO)(t.path),mime:t.mimeType})})}},39713:function(e,t,n){n.d(t,{x:function(){return i}});var r=n(22648),i=new(n(51207)).j(function(e){var t=e.sessionId,n=e.addAttachment,i=e.trackAgentAnalyticsEvent;return r.tk.domEventHandlers({paste:function(e){if(!e.clipboardData)return!1;var r=e.clipboardData.items,a=!1,o=!0,l=!1,u=void 0;try{for(var s,d=r[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var c=s.value;if(0===c.type.indexOf("image")){e.preventDefault();var g=c.getAsFile();if(g){var f=g.name||"pasted_image_".concat(Date.now(),".png"),p=new File([g],f,{type:c.type}),h={path:p.name,mimeType:p.type,file:p,isUploading:!1};n(h),null==i||i({action:"auto_attached_pasted_image",fileSize:p.size,sessionId:t}),a=!0;break}}}}catch(e){l=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw u}}if(a)return!0;var v=e.clipboardData.getData("text");if(v.length<2e3)return!1;e.preventDefault(),null==i||i({action:"pasted_text",length:v.length,sessionId:t});var m="Pasted-".concat(v.slice(0,100).replace(/[^a-zA-Z0-9-]/g,"-").replace(/-+/g,"-"),"-").concat(Date.now(),".txt"),B=new File([v],m,{type:"text/plain"});return n({path:m,mimeType:"text/plain",file:B,isUploading:!1}),null==i||i({action:"auto_attached_large_paste",fileSize:B.size,sessionId:t}),!0}})})},65171:function(e,t,n){n.d(t,{uj:function(){return T},gG:function(){return M},_z:function(){return S},qB:function(){return w},tC:function(){return E},tR:function(){return D}});var r,i=n(28011),a=n(41974),o=n(32508),l=n.n(o),u=n(20235),s=n(80403),d=n(22648),c=n(90429),g=n(69432),f=["py"],p=g.filter(function(e){return!f.includes(e)}).map(function(e){return new RegExp("\\.".concat(e.replace(".",""),"$"))}),h=n(6264),v=n(95489),m=n(21480),B=n(76786),y=n(24873),b=n(35961),Z=n(31995),U=n(40487),_=n(98861),x=n(55884);function w(e){try{return new URL(e).hostname}catch(t){return e}}var A=RegExp("\\S+\\.\\S+(?<![.,!?])","g");function C(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];null!==(t=A.exec(e));)l()(t[0],{host_whitelist:p})&&r.push({url:t[0],start:n+t.index,end:n+t.index+t[0].length});return r}var T=[{intent:u.rSL.URL_SCREENSHOT,shortDescription:"Screenshot",description:"Take screenshot",attachedDescription:"Added screenshot",Icon:x.Z},{intent:u.rSL.URL_CRAWL_CONTENT,shortDescription:"Content",description:"Copy page content",attachedDescription:"Added page content",Icon:_.Z}],S=s.QQ.define({create:function(e){return[]},update:function(e,t){if(t.docChanged){var n=C(t.state.doc.toString());return(0,a.Uy)(e,function(e){return e.filter(function(e){return n.some(function(t){return t.url===e.url})})})}return(0,a.Uy)(e,function(e){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)!function(){var t=a.value;if(t.is(E)){var n=t.value,r=n.url,i=n.intent,o=e.findIndex(function(e){return e.url===r&&e.intent===i});o>=0?e.splice(o,1):e.push(t.value)}}()}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}})}}),E=s.Py.define(),I=s.QQ.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;if(l.is(D))return l.value}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e}}),D=s.Py.define(),k=s.QQ.define({create:function(){return d.p.none},update:function(e,t){var n=t.state.field(I),r=[],i=C(t.state.doc.toString()),a=!0,o=!1,l=void 0;try{for(var u,s=i[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value,g=c.url,f=c.start,p=c.end;r.push(P.range(f,p)),n===g&&r.push(R.range(f,p))}}catch(e){o=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw l}}return d.p.set(r)},provide:function(e){return d.tk.decorations.from(e)}}),P=d.p.mark({class:"cm-url-underline"}),R=d.p.mark({class:"cm-url-hover"}),G=d.tk.baseTheme({".cm-url-underline":{textDecoration:"underline 1.5px ".concat(h.TV.blueDefault),textUnderlineOffset:"3px"},".cm-url-hover":{backgroundColor:h.TV.blueDimmest,borderTopLeftRadius:"4px"}}),V=s.Py.define(),z=s.Py.define(),L=s.QQ.define({create:function(){return{url:null,pos:null,end:null,persistent:!1}},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l,u=a.value;if(u.is(V))return{url:u.value.url,pos:u.value.pos,end:u.value.end,persistent:null!==(l=u.value.persistent)&&void 0!==l&&l};if(u.is(z))return{url:null,pos:null,end:null,persistent:!1}}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e},provide:function(e){return d.hJ.computeN([e],function(t){var n=t.field(e);return n.url&&null!==n.pos&&null!==n.end?[{pos:n.pos,end:n.end,above:!0,create:function(e){var t,r,a;return t=n.url||"",r=e.state.field(S),(a=(0,c.V)((0,i.tZ)(F,{url:t,attachedUrls:r,onIntentClicked:function(n,r){e.dispatch({effects:E.of({url:t,intent:r})})}}))).classList.add("hover-tooltip"),a.style.padding="0",{dom:a}},arrow:!1}]:[]})}}),O=(0,v.X)({tooltipSection:[m.l0.px(8)]}),X=(0,v.X)({tooltip:[m.l0.colWithGap(4),m.l0.py(4),m.l0.backgroundColor.backgroundHigher,{borderLeft:"2px solid ".concat(h.TV.blueDefault)}],buttonRow:[m.l0.rowWithGap(12),O.tooltipSection],link:[O.tooltipSection],divider:[m.l0.backgroundColor.outlineDimmer]});function F(e){var t=e.url,n=e.attachedUrls,r=e.onIntentClicked,a=w(t);return(0,i.BX)(Z.G,{css:X.tooltip,children:[(0,i.tZ)(b.xv,{css:O.tooltipSection,children:a}),(0,i.tZ)(y.R,{css:X.divider}),(0,i.tZ)(b.xv,{css:X.link,multiline:!1,children:(0,i.tZ)("a",{href:t,target:"_blank",children:t})}),(0,i.tZ)(y.R,{css:X.divider}),(0,i.tZ)(Z.G,{css:X.buttonRow,children:T.map(function(e){var a=e.intent,o=e.description,l=e.attachedDescription,u=e.Icon,s=n.findIndex(function(e){return e.url===t&&e.intent===a})>=0;return(0,i.tZ)(B.zx,{iconLeft:s?(0,i.tZ)(U.Z,{}):(0,i.tZ)(u,{}),text:s?l:o,disabled:s,colorway:s?"grey":"primary",onClick:function(){return r(t,a)},variant:"underlined"},a)})})]})}var H=(r=null,function(){return r||(r=[L,(0,d.bF)(function(e,t){var n=C(e.state.doc.toString()),r=e.state.field(L),a=n.find(function(e){var n=e.start,r=e.end;return t>=n&&t<=r});return a?(r.persistent&&e.dispatch({effects:z.of(null)}),{pos:a.start,end:a.end,above:!0,create:function(){var t=e.state.field(S),n=(0,c.V)((0,i.tZ)(F,{url:a.url,attachedUrls:t,onIntentClicked:function(t,n){e.dispatch({effects:E.of({url:t,intent:n})})}}));return n.classList.add("hover-tooltip"),n.style.padding="0",{dom:n}}}):null},{hideOn:function(e){return e.docChanged||e.effects.some(function(e){return e.is(E)})},hoverTime:1})])}),W=d.tk.updateListener.of(function(e){if(e.docChanged){var t=C(e.state.doc.toString()),n=C(e.startState.doc.toString()),r=t.find(function(e){return!n.some(function(t){return t.url===e.url})});if(r){var i=e.view;i.dispatch({effects:V.of({url:r.url,pos:r.start,end:r.end,persistent:!0})}),setTimeout(function(){i.state.field(L).url===r.url&&i.dispatch({effects:z.of(null)})},5e3)}}}),M=[k,G,S,I,H(),W]},87241:function(e,t,n){n.d(t,{Z:function(){return eB}});var r,i=n(42226),a=n(28011),o=n(75271),l=n(41832),u=n(61559),s=n(54538),d=n(22648),c=n(8900),g=n(89993),f=n(48006),p=n(21810),h=n(33227),v=n(48072),m=n(51207),B=n(15969),y=n(20937),b=n(28905),Z=n(98636),U=n(45327),_=n(31806),x=n(10795),w=n(61725),A=n(67711),C=n(5093),T=n(67909),S=n(6191),E=n(92986),I=new m.j(function(e){return e?d.tk.updateListener.of(function(t){if(t.docChanged){var n=t.state.doc.toString();E.Z.set(e,n)}}):[]}),D=n(77750),k=n(41439),P=n(70854),R=n(18687),G=n(95489),V=n(21480),z=n(76786),L=n(50872),O=n(31995),X=n(41415),F=n(37712),H=n(3827),W=(0,G.X)({row:[V.l0.rowWithGap(4),V.l0.align.center]});function M(e){var t=(0,C._)((0,o.useState)(null),2),n=t[0],r=t[1],i=(0,C._)((0,o.useState)({type:"waiting"}),2),l=i[0],u=i[1];return(0,a.BX)(O.G,{css:W.row,children:[null!==n?(0,a.tZ)(L.hU,{alt:"Undo",disabled:e.loading,onClick:function(){r(null),e.onUndo(n)},children:(0,a.tZ)(F.Z,{})}):null,(0,a.tZ)(z.zx,{iconLeft:(0,a.tZ)(function(){return"generating"===l.type?(0,a.tZ)(X.Z,{}):(0,a.tZ)(H.Z,{})},{}),text:"Improve prompt",disabled:e.isDisabled||"waiting"!==l.type,onClick:function(){u({type:"generating"}),e.onEnhance().then(function(e){return r(e)}).finally(function(){return u({type:"waiting"})})},loading:e.loading})]})}var j=n(39713),N=n(65171),$=n(84750),Y=n(96583),Q=n(25722),q=n(94213),J=n(14489),K=n(10222),ee=n(96784);function et(){var e=(0,J._)(["\n  mutation EnhanceUserPrompt($userPrompt: String!) {\n    enhanceUserPrompt(input: { userPrompt: $userPrompt }) {\n      ... on EnhanceUserPromptResult {\n        error\n        prompt\n      }\n    }\n  }\n"]);return et=function(){return e},e}var en={},er=(0,K.Ps)(et()),ei=n(45732),ea=n(6264),eo=n(80084),el=n(87226),eu=n(48691),es=n(38084),ed=n(74935),ec=n(37492),eg=n(46735),ef=(0,eu.$)(["borderColor","hoverBorderColor","focusedBorderColor","flexDirection","columnGap"]),ep=ef.cssVars,eh=ef.styleTokens,ev=(0,G.X)({root:[V.l0.borderRadius(4),el.g.filledAndOutlined,V.l0.p(4),{"@media (hover: hover)":{":not([disabled], [aria-disabled])":{cursor:"text"}},flexDirection:eh.flexDirection,columnGap:eh.columnGap,rowGap:ea.TV.space4,"&:not([disabled], [aria-disabled])":{borderColor:eh.borderColor},"&:hover:not([disabled], [aria-disabled]):hover":{borderColor:eh.hoverBorderColor},"&:focus-within":{borderColor:eh.focusedBorderColor}}],inputWrapper:[V.l0.colWithGap(4),V.l0.flex.growAndShrink(1)],codemirror:[V.l0.display.flex,V.l0.flex.grow(1),V.l0.overflow("auto"),V.l0.maxHeight(300),{"& .cm-editor":[V.l0.flex.grow(1)]}],attachments:[V.l0.px(4),V.l0.py(8)],sendDisabled:[(0,eo.ec)("grey")],sendEnabled:[(0,eo.ec)("blurple")],primaryButtonGroup:[V.l0.rowWithGap(4),V.l0.justify.spaceBetween,V.l0.align.end,V.l0.pb(2),V.l0.height(32)],primaryButtonGroupMobile:[V.l0.rowWithGap(4),V.l0.justify.spaceBetween,V.l0.align.end,V.l0.py(4),{button:{padding:12}}],primaryButtonGroupLeft:[V.l0.rowWithGap(2),V.l0.align.center],primaryButtonGroupRight:[V.l0.rowWithGap(8),V.l0.pr(2),V.l0.align.center],submitButton:[V.l0.borderRadius()],overlayWrapper:[V.l0.position.relative],overlayBackground:[V.l0.position.absolute,V.l0.borderRadius(4),{inset:0,backgroundColor:ea.TV.backgroundRoot,opacity:.7,pointerEvents:"auto"}],overlayContent:[V.l0.position.absolute,{inset:0},V.l0.display.flex,V.l0.flex.column,V.l0.align.center,V.l0.justify.center,V.l0.p(24),{pointerEvents:"auto"}]}),em=d.tk.theme((r={"&":{flexGrow:1},"& .cm-content":{fontFamily:ea.TV.fontFamilyDefault}},(0,i._)(r,"& .".concat(v.ll),{display:"none"}),(0,i._)(r,"& .cm-cursor",{borderLeftColor:ea.TV.foregroundDefault,borderLeftWidth:"1px"}),r)),eB=(0,o.forwardRef)(function(e,t){var n,r,s,d,v,m,G,V,z,L,X,F,H,W,J,K,et,eo,el,eu,ec=(0,h.Z)(),eg=ec.ref,ef=ec.view,eh=(0,l.Av)(),eB=(0,U.T3)(),ey=(0,U.sG)(),eU=eB||ey,e_=null!==(et=e.status)&&void 0!==et?et:"composing",ex=null!==(eo=e.placeholderText)&&void 0!==eo?eo:"Type message…",ew=(null===(F=e.authorization)||void 0===F?void 0:F.paidAgent.isAuthorized)===!0||e.hasFreemiumAccess,eA=(null===(H=e.authorization)||void 0===H?void 0:H.paidAgent.isAuthorized)!==!1||e.hasFreemiumAccess?void 0:e.authorization.paidAgent.message,eC=(0,p.IK)(ef,R.xb),eT=(0,b.Z)().showError,eS=(0,R.JY)({text:ex}),eE=P.nf.use(2e3),eI=(m=e.persistenceKey,(0,o.useEffect)(function(){if(!(!m||(null==ef?void 0:ef.state.doc.toString()))){var e=E.Z.get(m,"string");if(e){if(!ef)return;ef.dispatch({changes:{from:0,to:ef.state.doc.length,insert:e}})}}},[m,ef]),{persistPromptDraftCompartment:I.use(m),clearPersistedPromptDraft:function(){m&&E.Z.remove(m)}}),eD=eI.persistPromptDraftCompartment,ek=eI.clearPersistedPromptDraft,eP=(0,A.Z)({sessionId:e.sessionId,uploadFiles:e.uploadFiles,onError:function(e){eT(e)}}),eR=eP.attachments,eG=eP.removeAttachment,eV=eP.addAttachment,ez=eP.clearAttachments,eL=(0,p.IK)(ef,N._z);(0,o.useImperativeHandle)(t,function(){return{addAttachment:function(e){return eV(e)}}},[eV]);var eO={isDraggedOver:(G=(0,C._)((0,T.L)(function(){return{accept:[S.FILE],drop:function(e){e.dirContent.then(function(e){var t=e.filter(function(e){return".DS_Store"!==e.name}),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;eV({path:l.name,mimeType:l.type,file:l,isUploading:!0})}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}})},collect:function(e){return{isOver:!0===e.isOver()}}}}),2))[0].isOver,drop:G[1]},eX=eO.isDraggedOver,eF=eO.drop,eH=(L=(0,C._)((V={onError:function(e){Q.Tb(e)}},z=(0,q._)({},en,V),ee.D(er,z)),1)[0],{onUndo:function(e){null==ef||ef.dispatch({changes:{from:0,to:ef.state.doc.length,insert:e}})},onEnhance:(X=(0,$._)(function(){var e,t,n,r,i,a;return(0,Y.Jh)(this,function(o){switch(o.label){case 0:return[4,L({variables:{userPrompt:t=null!==(e=null==ef?void 0:ef.state.doc.toString())&&void 0!==e?e:""}})];case 1:if((null==(n=o.sent().data)?void 0:n.enhanceUserPrompt.__typename)!=="EnhanceUserPromptResult")throw Error("Failed to generate prompt");if(i=(r=n.enhanceUserPrompt).prompt,(a=r.error)||!i)throw Error(a||"Failed to generate prompt");return null==ef||ef.dispatch({changes:{from:0,to:ef.state.doc.length,insert:i.trimStart().trimEnd()}}),(0,ei.j)(ei.U3.AI_ENHANCE_PROMPT_USED,{action:"prompt_enhanced",originalPrompt:t,generatedPrompt:i}),[2,t]}})}),function(){return X.apply(this,arguments)})}),eW=eH.onUndo,eM=eH.onEnhance,ej=eC&&0===eR.length&&"composing"===e_||"loading"===e_||e.submitDisabled||!ew,eN=e.onUpsell,e$=e.onSubmit,eY=e.disableClearOnSubmit,eQ=(0,o.useCallback)(function(){if(ej||!ef){!ew&&eN&&eN();return}var e=ef.state.doc.toString();ek(),e$(e,eR,null!=eL?eL:[]),eY||(ez(),ef.dispatch({changes:{from:0,to:ef.state.doc.length}}))},[ej,ew,eN,ef,ek,e$,eR,eY,ez,eL]),eq=(0,y.Z)(eQ),eJ=eZ.use((0,o.useCallback)(function(){return eq.current()},[eq])),eK=(r=(n={view:ef,setPromptEditor:e.inputRef}).view,s=n.setPromptEditor,d=(0,o.useRef)(null),v=(0,y.Z)(s),(0,o.useEffect)(function(){if(r&&v.current){var e=v.current;return e({setValue:function(e){r.state.doc.toString()!==e&&r.dispatch({changes:{from:0,to:r.state.doc.length,insert:e}})},getValue:function(){return r.state.doc.toString()},focus:function(){r.focus(),r.dispatch({selection:{anchor:r.state.doc.length}})},animatePlaceholder:function(){r.dispatch({effects:R.jW.of(!0)}),(0,_.A)(d,"border-color",ea.TV.accentPrimaryDefault),setTimeout(function(){requestAnimationFrame(function(){var e;null===(e=d.current)||void 0===e||e.style.removeProperty("border-color")})},60),r.focus()}}),function(){e(null)}}},[r,v]),d),e0=(0,k.Z)(),e1=j.x.use({sessionId:e.sessionId,addAttachment:eV,trackAgentAnalyticsEvent:e0}),e5=(0,B.P5)({controlName:"flag-internet-explorer"});return(0,a.tZ)(a.HY,{children:(0,a.BX)(O.G,{css:ev.overlayWrapper,children:[(0,a.BX)(es.Tg,{css:ev.root,innerRef:(0,Z.l)(eF,eK),style:(eu={},(0,i._)(eu,ep.borderColor,e.blurple?eX?ea.TV.blurpleDefault:ea.TV.outlineDefault:eX?ea.TV.accentPrimaryDefault:ea.TV.outlineDimmer),(0,i._)(eu,ep.focusedBorderColor,e.blurple?ea.TV.blurpleDefault:ea.TV.accentPrimaryDefault),(0,i._)(eu,ep.hoverBorderColor,e.blurple?ea.TV.blurpleDefault:ea.TV.accentPrimaryDefault),(0,i._)(eu,ep.flexDirection,eU?"row":"column"),(0,i._)(eu,ep.columnGap,eU?"0px":"4px"),eu),"aria-hidden":null!==(el=null===(W=e.overlay)||void 0===W?void 0:W.isVisible)&&void 0!==el&&el,inert:(null===(J=e.overlay)||void 0===J?void 0:J.isVisible)?"true":void 0,onClick:function(e){e.target===e.currentTarget&&(null==ef||ef.focus())},children:[(0,a.BX)(O.G,{css:ev.inputWrapper,children:[eR.length>0||eL&&eL.length>0?(0,a.tZ)(w.s,{renderedAttachments:eR,removeAttachment:eG,getAttachmentTypeDisclaimer:(0,D.Q)({aiName:(0,u.EB)({capitalizeFirstChar:!0})}),attachedUrls:null!=eL?eL:[],removeAttachedUrl:function(e,t){ef&&ef.dispatch({effects:N.tC.of({url:e,intent:t})})},onMouseEnterAttachedUrl:function(e){null==ef||ef.dispatch({effects:N.tR.of(e)})},onMouseExitAttachedUrl:function(){null==ef||ef.dispatch({effects:N.tR.of(null)})},css:ev.attachments}):null,eh?null:(0,a.tZ)(c.ZP,{ref:eg,css:ev.codemirror,style:{minHeight:e.minHeight?"".concat(e.minHeight,"px"):void 0},hideGutter:!0,autocomplete:!1,lineWrapping:!0,fontSize:14,keyboardHandler:null,extensions:[em,eJ,e1,e5?N.gG:[],eS,P.j4,eE,eD,f.S,g.Y],id:"ai-prompt-input","data-cy":"ai-prompt-input"})]}),(0,a.BX)(O.G,{css:eB?ev.primaryButtonGroupMobile:ev.primaryButtonGroup,onClick:function(e){e.target===e.currentTarget&&(null==ef||ef.focus())},children:[(0,a.BX)(O.G,{css:ev.primaryButtonGroupLeft,children:[(0,a.tZ)(es.Tg,{elevated:!0,children:(0,a.tZ)(x.u,{status:e_,addAttachment:eV})}),(0,a.tZ)(es.Tg,{elevated:!0,children:e.debugButton})]}),(0,a.BX)(O.G,{css:ev.primaryButtonGroupRight,children:[e.upgradeButton,e.feedbackButton,e.showEnhanceButton?(0,a.tZ)(es.Tg,{elevated:!0,children:(0,a.tZ)(M,{isDisabled:null==eC||eC,onUndo:eW,onEnhance:eM})}):null,(0,a.tZ)(es.Tg,{elevated:!0,css:ev.submitButton,children:(0,a.tZ)(ed.u,{isDisabled:void 0===eA,tooltip:eA,children:(0,a.tZ)(eb,{status:e_,disabled:ej,text:e.submitButtonText,onClick:eQ})})})]})]})]}),(null===(K=e.overlay)||void 0===K?void 0:K.isVisible)?(0,a.BX)(a.HY,{children:[(0,a.tZ)(O.G,{css:ev.overlayBackground}),(0,a.tZ)(O.G,{css:ev.overlayContent,children:e.overlay.overlayContent})]}):null]})})}),ey=(0,G.X)({textButton:[(0,i._)({},V.BC.max("tabletMin"),{"div span":[V.l0.display.none],"div svg":[V.l0.mr(0)]})]});function eb(e){var t,n,r=e.status,i=e.text,o=e.disabled,l=e.onClick;return"loading"===r?(t="Loading...",n=(0,a.tZ)(X.Z,{})):(t="Send",n=(0,a.tZ)(ec.Z,{})),i?(0,a.tZ)(z.zx,{text:i,disabled:o,onClick:l,colorway:"blurple",dataCy:"ai-prompt-submit",iconLeft:"loading"===r?(0,a.tZ)(X.Z,{}):(0,a.tZ)(eg.Z,{}),css:ey.textButton}):(0,a.tZ)(L.hU,{alt:t,tooltipBehavior:"hidden",disabled:o,onClick:l,dataCy:"ai-prompt-submit",css:o?ev.sendDisabled:ev.sendEnabled,children:n})}var eZ=new m.j(function(e){return d.tk.domEventHandlers({keydown:function(t,n){!((0,s.SI)(n.state).length>0)&&("Enter"!==t.key||t.shiftKey||(t.preventDefault(),e()))}})})},67711:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(84750),i=n(94213),a=n(32586),o=n(5093),l=n(96583),u=n(75271),s=n(41974),d=n(39773),c=n(41439);function g(e){var t,n=e.sessionId,g=e.uploadFiles,f=e.onError,p=(0,c.Z)(),h=(0,o._)((0,u.useState)([]),2),v=h[0],m=h[1],B=(0,u.useCallback)(function(e){m(function(t){return(0,s.Uy)(t,function(t){var n=t.findIndex(function(t){return t.path===e});-1!==n&&t.splice(n,1)})})},[]),y=(0,u.useCallback)((t=(0,r._)(function(e){var t;return(0,l.Jh)(this,function(r){return v.length>=20?(null==f||f("You can only attach up to ".concat(20," files.")),p({action:"attempted_to_attach_more_than_max_num_attachments",sessionId:n}),[2]):e.file.size>d.P$?(null==f||f("Attachment size exceeds ".concat(d.P$/1024/1024," MB limit.")),p({action:"attempted_to_attach_file_exceeding_size_limit",fileType:e.mimeType,fileSize:e.file.size,sessionId:n}),[2]):"image/svg+xml"===e.file.type?(null==f||f("SVG images are not allowed"),p({action:"attempted_to_attach_svg_image",sessionId:n}),[2]):(m(function(t){return(0,s.Uy)(t,function(t){t.push(e)})}),p({action:"attached_file",fileType:e.mimeType,fileSize:e.file.size,sessionId:n}),t=!1,g&&g({files:[e.file],onError:function(n){B(e.path),null==f||f("Error writing file: "+n),t=!0}}),t)?[2]:(m(function(t){return(0,s.Uy)(t,function(t){var n=t.findIndex(function(t){return t.path===e.path});-1!==n&&(t[n]=(0,a._)((0,i._)({},t[n]),{isUploading:!1}))})}),[2,e])})}),function(e){return t.apply(this,arguments)}),[g,B,f,p,v,n]);return{attachments:v,removeAttachment:B,addAttachment:y,clearAttachments:function(){return m([])}}}},77750:function(e,t,n){n.d(t,{Q:function(){return r}});function r(e){var t=e.aiName;return function(e){return e.startsWith("video/")||e.startsWith("audio/")||e.startsWith("application/pdf")?"".concat(t," can't read this file type, but it can use the file in your project."):null}}},60884:function(e,t,n){n.d(t,{UB:function(){return h},cO:function(){return c},yr:function(){return f}});var r=n(94213),i=n(14489),a=n(10222),o=n(71804);function l(){var e=(0,i._)(["\n  fragment AgentAuthorizations on OrgAuthorizations {\n    paidAgent: useAiAgent(tier: paid) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n    freeAgent: useAiAgent(tier: free) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,i._)(["\n  query GetAgentRepl($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          id\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=(0,i._)(["\n  query GetAgentReplAuthorizations($orgId: String) {\n    currentUser {\n      id\n      personalOrgAuthorizations {\n        ... on OrgAuthorizations {\n          ...AgentAuthorizations\n        }\n        ... on Error {\n          message\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          authorizations {\n            ... on OrgAuthorizations {\n              ...AgentAuthorizations\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var d={},c=(0,a.Ps)(l()),g=(0,a.Ps)(u());function f(e){var t=(0,r._)({},d,e);return o.a(g,t)}var p=(0,a.Ps)(s(),c);function h(e){var t=(0,r._)({},d,e);return o.a(p,t)}},70854:function(e,t,n){n.d(t,{Ji:function(){return U},j4:function(){return b},nf:function(){return h}});var r=n(42226),i=n(28011),a=n(80403),o=n(22648),l=n(41704),u=n(21810),s=n(51207),d=n(6264),c=n(95489),g=n(21480),f=n(35961),p=a.r$.define({combine:function(e){var t;return null!==(t=e[0])&&void 0!==t?t:0}}),h=new s.j(function(e){return p.of(e)}),v="cm-empty-state-dom",m=o.tk.theme((0,r._)({},".".concat(v),{backgroundColor:d.TV.redDefault,opacity:"0.2"})),B=a.QQ.define({create:function(e){return e.doc.length},update:function(e,t){return t.state.doc.length}}),y=function(e){return Math.max(e.doc.length-e.facet(p),0)},b=a.QQ.define({create:y,update:function(e,t){return(0,l.aU)(t,"doc",p)?y(t.state):e},provide:function(e){return[B,m,(0,o.EY)({above:!1,update:function(t){return(0,l.aU)(t,e)},markers:function(t){var n=t.state.field(e);if(0===n)return[];var r=t.state.doc.length;return o.dc.forRange(t,v,a.jT.range(r-n,r))}})]}}),Z=(0,c.X)({charLimit:[g.l0.color.redDefault]});function U(e){var t=e.view,n=(0,u.IK)(t,b);return n?(0,i.tZ)(f.xv,{variant:"small",css:Z.charLimit,children:n}):null}},18687:function(e,t,n){n.d(t,{JY:function(){return m},jW:function(){return h},xb:function(){return v}});var r,i=n(42226),a=n(75271),o=n(80403),l=n(22648),u=n(41704),s=n(1673),d=n(6264),c="cm-placeholder-layer",g="cm-placeholder-dom",f=l.tk.theme((r={},(0,i._)(r,".".concat(c),{width:"100%",height:"100%",pointerEvents:"none"}),(0,i._)(r,".".concat(g),{position:"absolute",width:"100%",pointerEvents:"none",fontFamily:d.TV.fontFamilyDefault,color:d.TV.foregroundDimmest}),r)),p=function(e){return 0===e.doc.toString().trim().length};o.r$.define({combine:function(){return!0}});var h=o.Py.define(),v=o.QQ.define({create:p,update:function(e,t){return p(t.state)}});function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=void 0===t?"Type message…":t;return(0,a.useMemo)(function(){var e;return[v,f,(0,l.EY)((e=Date.now(),{above:!1,class:c,update:function(t){var n=!1;return(0,s.j)(t,h,function(){n=!0,e=Date.now()}),n||(0,u.aU)(t,v)},markers:function(t){if(!t.state.field(v))return[];var r,i,a,o,l,u,s=t.coordsAtPos(0);if(!s)return[];var d=t.dom.getBoundingClientRect(),c=s.left-d.left;return[(i=(r={top:s.top-d.top,left:c,height:s.bottom-s.top,animateTimestamp:e,text:n}).top,a=r.left,o=r.height,l=r.animateTimestamp,u=r.text,{draw:function(){var e=document.createElement("div");e.className=g,e.style.width="100%",e.style.paddingTop=i+"px",e.style.paddingLeft=a+"px",e.style.height=o+"px";var t=u.length;return function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;requestAnimationFrame(function(){e.textContent=u.slice(0,r),r<t&&n(r+1)})}(),e},animateTimestamp:l,eq:function(e){return this.animateTimestamp===e.animateTimestamp}})]}}))]},[n])}},43714:function(e,t,n){n.d(t,{AE:function(){return B},ZP:function(){return m},jT:function(){return v}});var r=n(5093),i=n(28011),a=n(75271),o=n(80012),l=n(21480),u=n(11784),s=n(50872),d=n(67160),c=n(35961),g=n(31995),f=n(78837),p=n(41415),h=n(10259);function v(e,t){var n=t;return"audio/wave"===n&&(n="audio/wav"),"data:".concat(n,";base64,").concat(e)}function m(e){var t=e.fs,n=e.filePath,u=(0,r._)((0,a.useState)(null),2),d=u[0],g=u[1],h=(0,r._)((0,a.useState)(!0),2),v=h[0],m=h[1];(0,a.useEffect)(function(){var e=t.watchFile(n,{onChange:function(e){g(e.toString("base64")),m(!1)},onError:function(){g(null),m(!1)},onMoveOrDelete:function(){g(null),m(!1)}});return function(){e(),m(!0),g(null)}},[t,n]);var y=(0,o.yC)(n);"audio/wave"===y&&(y="audio/wav");var b=d?"data:".concat(y,";base64,").concat(d):"";return v?(0,i.tZ)(p.Z,{}):d?(0,i.BX)(i.HY,{children:[(0,i.tZ)(B,{src:b,fileName:(0,o.UO)(n),mime:(0,o.yC)(n)}),(0,i.tZ)(s.hU,{alt:"Download",css:[l.l0.position.absolute,l.l0.bottom(8),l.l0.right(8),l.l0.p(16)],children:(0,i.tZ)("a",{href:"data:text/plain;base64,".concat(d),download:(0,o.UO)(n),css:[l.l0.color.foregroundDimmer],children:(0,i.tZ)(f.Z,{})})})]}):(0,i.tZ)(c.xv,{multiline:!1,children:"Failed to load media file"})}var B=function(e){var t=e.src,n=e.fileName,r=e.mime,a=void 0===r?"":r;return a.startsWith("video/")?(0,i.tZ)("video",{src:t,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:n}):a.startsWith("image/")?(0,i.tZ)("img",{alt:"Preview",src:t,css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}}):a.startsWith("audio/")?(0,i.tZ)("audio",{src:t,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:n}):"application/pdf"===a?(0,i.tZ)("object",{data:t,type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,i.BX)(g.G,{css:[l.l0.colWithGap(16),l.l0.align.end],children:[(0,i.tZ)(d.E,{colorway:"warning",icon:(0,i.tZ)(h.Z,{}),text:"Your browser doesn't support displaying PDFs inside of Replit."}),(0,i.tZ)(u.Z,{href:t,referrerPolicy:"no-referrer",target:"_blank",text:"View PDF in new tab",size:"small",variant:"outlined",colorway:"primary",noNextLink:!0})]})}):(0,i.tZ)(c.xv,{multiline:!1,children:"File type not supported."})}},80598:function(e,t,n){n.d(t,{Q:function(){return i}});var r=n(28011);function i(e){var t=e.uploadFiles,n=e.fileUploadInputRef,i=e.dirUploadInputRef;return(0,r.BX)(r.HY,{children:[(0,r.tZ)("input",{style:{display:"none"},ref:n,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*"}),(0,r.tZ)("input",{style:{display:"none"},ref:i,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*"})]})}},83858:function(e,t,n){n.d(t,{HK:function(){return a},_5:function(){return i}});var r=n(48185),i="flag-byte-ledger-threshold";function a(e,t){var n=void 0,i=void 0;return(null!==e&&e<.01&&(n="Usage alert value must be at least 0.01 or unset."),null!==t&&t<.01&&(i="Usage limit value must be at least 0.01 or unset."),null!==e&&null!==t&&t<=e&&(n="Usage alert (".concat(e,") must be less than the usage budget (").concat(t,")."),i="Usage budget (".concat(t,") must be greater than the usage alert (").concat(e,").")),n||i)?(0,r.UG)({softAlertError:n,hardAlertError:i}):(0,r.Ok)({softAlertValue:e,hardAlertValue:t})}},48185:function(e,t,n){n.d(t,{Ok:function(){return l},UG:function(){return o},Zc:function(){return u}});var r,i=n(84750),a=n(96583);function o(e,t){return{ok:!1,error:e,errorExtras:t}}function l(e){return{ok:!0,value:e}}var u=(r=(0,i._)(function(e,t){var n;return(0,a.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e()];case 1:return[2,l(r.sent())];case 2:return n=r.sent(),[2,o(t?t(n):n)];case 3:return[2]}})}),function(e,t){return r.apply(this,arguments)});t.ZP={Ok:l,Err:o,tryCatch:function(e,t){try{return l(e())}catch(e){return o(t?t(e):e)}},tryCatchAsync:u}}}]);
//# sourceMappingURL=2574-2186079cd5070e5f.js.map